[test] add tests to get full line and branch coverage